"""
KVPair represents a key-value pair in the KV store
"""
type KVPair {
  """The key"""
  key: String!

  """The value"""
  value: String!

  """Creation timestamp"""
  createdAt: Time

  """Last modification timestamp"""
  updatedAt: Time
}

"""
Response type for listing KV pairs
"""
type KVListResponse {
  """List of key-value pairs"""
  items: [KVPair!]!

  """Total count of items (useful for pagination)"""
  total: Int!

  """Whether there are more items available"""
  hasMore: Boolean!
}

"""
KV change event for subscriptions
"""
type KVChangeEvent {
  """Event type: set, delete"""
  type: KVEventType!

  """The key that changed"""
  key: String!

  """The new value (null for delete events)"""
  value: String

  """The previous value (if available)"""
  oldValue: String

  """Timestamp of the change"""
  timestamp: Time!
}

"""
KV event types
"""
enum KVEventType {
  """Key was created or updated"""
  SET

  """Key was deleted"""
  DELETE
}
